import{_ as t,o as a,c as o,aA as s}from"./chunks/framework.DSs4OLzh.js";const i="/KomaMRI.jl/previews/PR725/assets/ui-simulation.CIlnxz4i.gif",n="/KomaMRI.jl/previews/PR725/assets/gui-dashboard.CS8qHgTK.png",r="/KomaMRI.jl/previews/PR725/assets/gui-scanner-view.DKJkoHpt.png",c="/KomaMRI.jl/previews/PR725/assets/gui-phantom-view.CtU-drrZ.png",l="/KomaMRI.jl/previews/PR725/assets/gui-phantom-load.CasOE14P.png",p="/KomaMRI.jl/previews/PR725/assets/gui-seq-time-view.DrBl5SMg.png",h="/KomaMRI.jl/previews/PR725/assets/gui-seq-kspace-view.B5M-gYJ5.png",d="/KomaMRI.jl/previews/PR725/assets/gui-seq-time-load.D5mgc9g1.png",u="/KomaMRI.jl/previews/PR725/assets/gui-seq-kspace-load.CGUdPu_g.png",m="/KomaMRI.jl/previews/PR725/assets/ui-seq.BZ-kCyAh.gif",g="/KomaMRI.jl/previews/PR725/assets/gui-sim-params-view.Ro57LAXm.png",R="/KomaMRI.jl/previews/PR725/assets/gui-rawsignal-view.CnNDtiw3.png",w="/KomaMRI.jl/previews/PR725/assets/gui-recon-params-view.CtobLg6C.png",f="/KomaMRI.jl/previews/PR725/assets/gui-image-view.CKYpDlXi.png",k="/KomaMRI.jl/previews/PR725/assets/gui-export-to-mat.D-ds-VgW.png",I="/KomaMRI.jl/previews/PR725/assets/ui-export-data.C8pEny6s.gif",P="/KomaMRI.jl/previews/PR725/assets/ui-observables.Bl226M2z.gif",E=JSON.parse('{"title":"Use Koma&#39;s User Interface","description":"","frontmatter":{},"headers":[],"relativePath":"how-to/1-1-use-koma-ui.md","filePath":"how-to/1-1-use-koma-ui.md","lastUpdated":null}'),b={name:"how-to/1-1-use-koma-ui.md"};function S(_,e,v,q,M,y){return a(),o("div",null,[...e[0]||(e[0]=[s('<h1 id="Use-Koma&#39;s-User-Interface" tabindex="-1">Use Koma&#39;s User Interface <a class="header-anchor" href="#Use-Koma&#39;s-User-Interface" aria-label="Permalink to &quot;Use Koma&amp;#39;s User Interface {#Use-Koma&#39;s-User-Interface}&quot;">​</a></h1><p>This section provides a comprehensive guide on using the <strong>User Interface</strong> of the <strong>KomaMRI</strong> package and delves into the internal processes that occur during interaction. By the end of this section, you will be equipped to execute a complete workflow even without any prior programming experience.</p><p align="center"><img width="90%" src="'+i+`"></p><h2 id="Basic-Workflow" tabindex="-1">Basic Workflow <a class="header-anchor" href="#Basic-Workflow" aria-label="Permalink to &quot;Basic Workflow {#Basic-Workflow}&quot;">​</a></h2><p>(You can also go to <a href="/KomaMRI.jl/previews/PR725/how-to/1-3-use-koma-scripts#Basic-Workflow">analog steps using Scripts</a>)</p><p>As a general overview, remember the following workflow steps when using KomaMRI:</p><ul><li><p>Loading Simulation Inputs: <strong>Scanner</strong>, <strong>Phantom</strong>, <strong>Sequence</strong></p></li><li><p>Running Simulation</p></li><li><p>Reconstructing Image using <strong>MRIReco</strong></p></li></ul><p>In the following subsections, we will cover all the mentioned steps. First, open the <strong>Julia REPL</strong> and enter the following commands to include the <strong>KomaMRI</strong> package and launch the user interface:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-julia">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-julia">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> KomaMRI</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-julia">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-julia">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> KomaUI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p align="center"><img width="90%" src="`+n+'"></p><h2 id="Loading-Simulation-Inputs" tabindex="-1">Loading Simulation Inputs <a class="header-anchor" href="#Loading-Simulation-Inputs" aria-label="Permalink to &quot;Loading Simulation Inputs {#Loading-Simulation-Inputs}&quot;">​</a></h2><p>(You can also go to <a href="/KomaMRI.jl/previews/PR725/how-to/1-3-use-koma-scripts#Loading-Simulation-Inputs">analog steps using Scripts</a>)</p><p>The user interface has preloaded certain inputs into RAM, including the <strong>Scanner</strong>, <strong>Phantom</strong>, and <strong>Sequence</strong> structs. In the following subsections, we will demonstrate how to visualize these inputs.</p><h3 id="Scanner" tabindex="-1">Scanner <a class="header-anchor" href="#Scanner" aria-label="Permalink to &quot;Scanner {#Scanner}&quot;">​</a></h3><p>You can visualize the preloaded <strong>Scanner</strong> struct by clicking on the <code>Scanner</code> dropdown and then pressing the <code>View Scanner</code> button. The <strong>Scanner</strong> struct contains hardware-related information, such as the main magnetic field&#39;s magnitude:</p><p align="center"><img width="90%" src="'+r+'"></p><h3 id="Phantom" tabindex="-1">Phantom <a class="header-anchor" href="#Phantom" aria-label="Permalink to &quot;Phantom {#Phantom}&quot;">​</a></h3><p>To see the phantom already stored in RAM, simply click on the <code>Phantom</code> dropdown an then press the <code>View Phantom</code> button. The preloaded phantom is a slice of a brain:</p><p align="center"><img width="90%" src="'+c+'"></p><p>It is also possible to load <code>.h5</code> phantom files. The <strong>KomaMRI.jl</strong> has some examples stored at <code>~/.julia/packages/KomaMRI/&lt;id-string&gt;/examples/2.phantoms/</code>. For instance, let&#39;s load the <code>sphere_chemical_shift.h5</code> file:</p><p align="center"><img width="90%" src="'+l+'"></p><p>Note that you can select different spin parameters to visualize like <code>ρ</code>, <code>T1</code>, <code>T2</code>, among others.</p><h3 id="Sequence" tabindex="-1">Sequence <a class="header-anchor" href="#Sequence" aria-label="Permalink to &quot;Sequence {#Sequence}&quot;">​</a></h3><p>There are two options to visualize the sequence already preloaded in RAM: in the time domain or in the k-space. The preloaded sequence is a single-shot EPI.</p><p>For visualization of the sequence in the time domain, click on the <code>Sequence</code> dropdown and then press the <code>Sequence (MPS)</code> button:</p><p align="center"><img width="90%" src="'+p+'"></p><p>For visualization of the sequence in the k-space, click on the <code>Sequence</code> dropdown and then press the <code>k-space</code> button:</p><p align="center"><img width="90%" src="'+h+'"></p><p>You can also display the <code>Moments</code> related to the <strong>Sequence</strong> by pressing the <code>View Moments</code> and then pressing the buttons for zero, first and second moments.</p><p>It is also possible to load <strong>Pulseq</strong> compatible <code>.seq</code> sequence files. The <strong>KomaMRI</strong> has some examples stored at <code>~/.julia/packages/KomaMRI/&lt;id-string&gt;/examples/1.sequences/</code>. For instance, let&#39;s load the <code>spiral.seq</code> file and view it the time domain and k-space:</p><p align="center"><img width="90%" src="'+d+'"></p><p align="center"><img width="90%" src="'+u+'"></p><p>And remember, you are free to interact with the plots:</p><p align="center"><img width="90%" src="'+m+'"></p><h2 id="Running-Simulation" tabindex="-1">Running Simulation <a class="header-anchor" href="#Running-Simulation" aria-label="Permalink to &quot;Running Simulation {#Running-Simulation}&quot;">​</a></h2><p>(You can also go to <a href="/KomaMRI.jl/previews/PR725/how-to/1-3-use-koma-scripts#Running-Simulation">analog steps using Scripts</a>)</p><p>Once the inputs are loaded in RAM, it is possible to perform the simulation to get the <strong>Raw Signal</strong>.</p><h3 id="Simulation-Parameters" tabindex="-1">Simulation Parameters <a class="header-anchor" href="#Simulation-Parameters" aria-label="Permalink to &quot;Simulation Parameters {#Simulation-Parameters}&quot;">​</a></h3><p>To visualize the default simulation parameters, click on the <code>Simulate!</code> dropdown and then press the <code>View Options</code> button:</p><p align="center"><img width="90%" src="'+g+'"></p><h3 id="Visualization-of-the-Raw-Signal" tabindex="-1">Visualization of the Raw Signal <a class="header-anchor" href="#Visualization-of-the-Raw-Signal" aria-label="Permalink to &quot;Visualization of the Raw Signal {#Visualization-of-the-Raw-Signal}&quot;">​</a></h3><p>Press the <code>Simulate!</code> button to perform the simulation (this may take a while). Automatically the generated <strong>Raw Signal</strong> should be displayed or you can click on the <code>Raw Data</code> dropdown and then press the <code>View Raw Data</code> button:</p><p align="center"><img width="90%" src="'+R+'"></p><h2 id="Reconstructing-Image-using-MRIReco" tabindex="-1">Reconstructing Image using MRIReco <a class="header-anchor" href="#Reconstructing-Image-using-MRIReco" aria-label="Permalink to &quot;Reconstructing Image using MRIReco {#Reconstructing-Image-using-MRIReco}&quot;">​</a></h2><p>(You can also go to <a href="/KomaMRI.jl/previews/PR725/how-to/1-3-use-koma-scripts#Reconstructing-Image-using-MRIReco">analog steps using Scripts</a>)</p><p>Once the <strong>Raw Signal</strong> is loaded in RAM, it is possible to reconstruct the image.</p><h3 id="Reconstruction-Parameters" tabindex="-1">Reconstruction Parameters <a class="header-anchor" href="#Reconstruction-Parameters" aria-label="Permalink to &quot;Reconstruction Parameters {#Reconstruction-Parameters}&quot;">​</a></h3><p>To visualize the default reconstruction parameters, click on the <code>Reconstruct!</code> dropdown and then press the <code>View Options</code> button:</p><p align="center"><img width="90%" src="'+w+'"></p><h3 id="Visualization-of-the-Image" tabindex="-1">Visualization of the Image <a class="header-anchor" href="#Visualization-of-the-Image" aria-label="Permalink to &quot;Visualization of the Image {#Visualization-of-the-Image}&quot;">​</a></h3><p>Press the <code>Reconstruct!</code> button to perform the reconstruction (this may take a while). Automatically the generated <strong>Image</strong> should be displayed or you can click on the he <code>Reconstruct!</code> dropdown and then press the <code>|Image|</code> button:</p><p align="center"><img width="90%" src="'+f+'"></p><h2 id="Exporting-Results-to-.mat-File" tabindex="-1">Exporting Results to .mat File <a class="header-anchor" href="#Exporting-Results-to-.mat-File" aria-label="Permalink to &quot;Exporting Results to .mat File {#Exporting-Results-to-.mat-File}&quot;">​</a></h2><p>(You can also go to <a href="/KomaMRI.jl/previews/PR725/how-to/1-3-use-koma-scripts#Exporting-Results-to-.mat-File">analog steps using Scripts</a>)</p><p>The user interface has the option to save the results in <code>.mat</code> format. Simply click on the <code>Export to .mat</code> and you have the alternatives to get data independently or you can press the <code>All</code> button to have all the results given by the simulator:</p><p align="center"><img width="90%" src="'+k+'"></p><p>So far, and due to limitations of the user interface dependencies, the <code>.mat</code> files are saved in the temporal directory of your computer OS, which can be found by typing the <code>tempdir()</code> command in the <strong>Julia REPL</strong>:</p><p align="center"><img width="90%" src="'+I+'"></p><h2 id="REPL-and-UI-communication" tabindex="-1">REPL and UI communication <a class="header-anchor" href="#REPL-and-UI-communication" aria-label="Permalink to &quot;REPL and UI communication {#REPL-and-UI-communication}&quot;">​</a></h2><p>An amazing feature of <strong>KomaMRI</strong> is that it allows you to modify certain variables in the <strong>Julia REPL</strong>, and then the user interface automatically updates its plots in real-time:</p><p align="center"><img width="90%" src="'+P+'"></p><p>The variables that update the interface are:</p><ul><li><p><code>seq_ui[]</code> for the <strong>Sequence</strong></p></li><li><p><code>obj_ui[]</code> for the <strong>Phantom</strong></p></li><li><p><code>sys_ui[]</code> for the <strong>Scanner</strong></p></li><li><p><code>raw_ui[]</code> for the <strong>Raw Signal</strong></p></li><li><p><code>img_ui[]</code> for the <strong>Image</strong></p></li></ul><p>Don&#39;t forget to add the brackets <code>[]</code> to these variables, otherwise it won&#39;t work.</p>',64)])])}const j=t(b,[["render",S]]);export{E as __pageData,j as default};
