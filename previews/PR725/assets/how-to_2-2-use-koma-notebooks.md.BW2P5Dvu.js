import{_ as p,C as o,o as r,c as h,aA as l,E as e,w as n,j as i,a as t}from"./chunks/framework.DSs4OLzh.js";const k="/KomaMRI.jl/previews/PR725/assets/pluto-dashboard.BaxaImjm.png",d="/KomaMRI.jl/previews/PR725/assets/pluto-empty-notebook.CTNDcXm6.png",g="/KomaMRI.jl/previews/PR725/assets/jupyter-create-new-notebook.PPFabyuL.png",u="/KomaMRI.jl/previews/PR725/assets/jupyter-empty-notebook.BoHuJu1B.png",m="/KomaMRI.jl/previews/PR725/assets/jupyter-test-notebook.CAKYerOd.png",y="/KomaMRI.jl/previews/PR725/assets/jupyter-webio-problem.oawW5ioG.png",w=JSON.parse('{"title":"Use Koma in Notebooks","description":"","frontmatter":{},"headers":[],"relativePath":"how-to/2-2-use-koma-notebooks.md","filePath":"how-to/2-2-use-koma-notebooks.md","lastUpdated":null}'),c={name:"how-to/2-2-use-koma-notebooks.md"};function E(b,s,F,C,A,D){const a=o("center");return r(),h("div",null,[s[6]||(s[6]=l(`<h1 id="Use-Koma-in-Notebooks" tabindex="-1">Use Koma in Notebooks <a class="header-anchor" href="#Use-Koma-in-Notebooks" aria-label="Permalink to &quot;Use Koma in Notebooks {#Use-Koma-in-Notebooks}&quot;">​</a></h1><p>You can use <strong>KomaMRI</strong> with popular programming environments such as <strong>Pluto</strong> and <strong>Jupyter</strong> notebooks. The following sections show how to set up these notebooks and test <strong>KomaMRI</strong> with them.</p><h2 id="Pluto" tabindex="-1">Pluto <a class="header-anchor" href="#Pluto" aria-label="Permalink to &quot;Pluto {#Pluto}&quot;">​</a></h2><p>First, install the <strong>Pluto</strong> module in your <strong>Julia</strong> environment. Remember to press the <code>]</code> button to open the <strong>Package Manager Session</strong>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-julia">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-julia">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> add Pluto</span></span></code></pre></div><p>Afterward, return to the <strong>Julia Session</strong> by pressing the <code>backspace</code> button, and then execute the <code>Pluto.run()</code> function:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>julia&gt; using Pluto</span></span>
<span class="line"><span></span></span>
<span class="line"><span>julia&gt; Pluto.run()</span></span></code></pre></div><p>This should automatically open the <strong>Pluto</strong> dashboard in your default web browser:</p>`,8)),e(a,null,{default:n(()=>[...s[0]||(s[0]=[i("img",{src:k,alt:"",style:{width:"75%"}},null,-1)])]),_:1}),s[7]||(s[7]=i("p",null,[t("Next, create a new notebook by clicking on "),i("code",null,"+ Create a new notebook"),t(":")],-1)),e(a,null,{default:n(()=>[...s[1]||(s[1]=[i("img",{src:d,alt:"",style:{width:"75%"}},null,-1)])]),_:1}),s[8]||(s[8]=l(`<p>Write and run the following code, which is identical to the <a href="/KomaMRI.jl/previews/PR725/how-to/2-2-use-koma-notebooks#Free-Induction-Decay">Free Induction Decay example</a>. <strong>Pluto</strong> automatically installs the required modules if they are not present on your system. Additionally, note that we do not directly use <strong>KomaMRI</strong> since we won&#39;t be utilizing the <a href="/KomaMRI.jl/previews/PR725/reference/6-koma-mri#KomaMRI.KomaUI"><code>KomaUI</code></a> function. Instead, we rely on the <strong>KomaMRICore</strong> and <strong>KomaMRIPlots</strong> dependencies. To display plots in <strong>Pluto</strong>, ensure that you import the <strong>PlutoPlotly</strong> package, as <strong>KomaMRIPlots</strong> requires its backend to display figures in <strong>Pluto</strong>: <embed type="text/html" src="../assets/pluto-fid-example.html" style="height:1024px;width:100%;"></p><p>One of the most outstanding features of <strong>Pluto</strong> is its ability to ensure reproducibility by storing the information necessary to recreate the package environment in the notebook file. When others open your notebook with Pluto, it automatically ensures they use the exact same package environment, guaranteeing seamless functionality on their computers.</p><h2 id="Jupyter" tabindex="-1">Jupyter <a class="header-anchor" href="#Jupyter" aria-label="Permalink to &quot;Jupyter {#Jupyter}&quot;">​</a></h2><p>Ensure you have <strong>Jupyter</strong> installed on your computer. Follow <a href="https://test-jupyter.readthedocs.io/en/latest/install.html" target="_blank" rel="noreferrer">this tutorial</a> for installation using <strong>Anaconda</strong>.</p><p>Next, install the <strong>IJulia</strong> module in your <strong>Julia</strong> environment. Remember to press the <code>]</code> key to open the <strong>Package Manager Session</strong>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-julia">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-julia">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" class="repl-prompt repl-prompt-pkg">@v1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" class="repl-prompt repl-prompt-pkg">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">) pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-pkg">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg"> add IJulia</span></span></code></pre></div><p>For this example, make sure to install <strong>KomaMRICore</strong> and <strong>KomaMRIPlots</strong> (we do not use <strong>KomaMRI</strong> directly since we won&#39;t be utilizing the <code>KomaUI()</code> function):</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" class="repl-prompt repl-prompt-pkg">@v1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" class="repl-prompt repl-prompt-pkg">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">) pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-pkg">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg"> add KomaMRICore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" class="repl-prompt repl-prompt-pkg">@v1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" class="repl-prompt repl-prompt-pkg">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">) pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-pkg">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg"> add KomaMRIPlots</span></span></code></pre></div><p>Next, open <strong>Jupyter</strong>, navigate to a working folder, and create a new notebook by clicking on <code>New</code>, then <code>Julia 1.9.3</code>.&quot;</p>`,9)),e(a,null,{default:n(()=>[...s[2]||(s[2]=[i("img",{src:g,alt:"",style:{width:"75%"}},null,-1)])]),_:1}),s[9]||(s[9]=i("p",null,"A new, empty notebook will appear:",-1)),e(a,null,{default:n(()=>[...s[3]||(s[3]=[i("img",{src:u,alt:"",style:{width:"75%"}},null,-1)])]),_:1}),s[10]||(s[10]=l(`<p>Proceed to write and execute the provided example:</p><details><summary>View code</summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Import modules</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> KomaMRICore, KomaMRIPlots</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Define sequence</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ampRF </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2e-6</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                        # 2 uT RF amplitude</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">durRF </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> π</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2π</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> γ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ampRF)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># required duration for a 90 deg RF pulse</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ampRF, durRF)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nADC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8192</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # number of acquisition samples</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">durADC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 250e-3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # duration of the acquisition</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">delay </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1e-3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # small delay</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ADC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(nADC, durADC, delay)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">seq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Sequence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># empty sequence</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">seq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exc        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># adding RF-only block</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">seq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acq        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># adding ADC-only block</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Plot the sequence</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_seq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(seq; slider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></details>`,2)),e(a,null,{default:n(()=>[...s[4]||(s[4]=[i("img",{src:m,alt:"",style:{width:"100%"}},null,-1)])]),_:1}),s[11]||(s[11]=i("p",null,[t("This should be sufficient, and now you can start working with "),i("strong",null,"KomaMRI"),t(" using "),i("strong",null,"Jupyter"),t(" notebooks.")],-1)),s[12]||(s[12]=i("p",null,[t("If you encounter the issue of "),i("strong",null,"WebIO"),t(" not being detected:")],-1)),e(a,null,{default:n(()=>[...s[5]||(s[5]=[i("img",{src:y,alt:"",style:{width:"75%"}},null,-1)])]),_:1}),s[13]||(s[13]=i("p",null,[t("Refer to "),i("a",{href:"https://juliagizmos.github.io/WebIO.jl/latest/providers/ijulia/",target:"_blank",rel:"noreferrer"},"this IJulia documentation"),t(" and "),i("a",{href:"https://juliagizmos.github.io/WebIO.jl/stable/troubleshooting/not-detected/",target:"_blank",rel:"noreferrer"},"this troubleshooting guide"),t(" for details. Essentially, you need to install a "),i("strong",null,"WebIO"),t(" extension depending on your "),i("strong",null,"Jupyter"),t(" installation.")],-1))])}const P=p(c,[["render",E]]);export{w as __pageData,P as default};
