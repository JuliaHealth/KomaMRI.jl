import{_ as s,o as t,c as a,aA as i}from"./chunks/framework.DSs4OLzh.js";const o="/KomaMRI.jl/previews/PR725/assets/create-fork-step1.DEUKngmO.png",n="/KomaMRI.jl/previews/PR725/assets/create-fork-step2.CcPQGjPj.png",l="/KomaMRI.jl/previews/PR725/assets/add-remote.H5i89106.png",r="/KomaMRI.jl/previews/PR725/assets/create-remote-step1.CfqZdIGL.png",p="/KomaMRI.jl/previews/PR725/assets/create-remote-step2.BdnSMEsV.png",h="/KomaMRI.jl/previews/PR725/assets/add-branch.Byzy6eC3.png",d="/KomaMRI.jl/previews/PR725/assets/create-branch-step1.CiwIbgKn.png",c="/KomaMRI.jl/previews/PR725/assets/create-branch-step2.CUVZt67p.png",u="/KomaMRI.jl/previews/PR725/assets/how-to-commit.DqXm9sCf.png",k="/KomaMRI.jl/previews/PR725/assets/test-komamribase.DA1Dh9e4.png",g="/KomaMRI.jl/previews/PR725/assets/test-komamricore.BH3x3Pxd.png",m="/KomaMRI.jl/previews/PR725/assets/create-pull-request.Av2ogUio.png",y="/KomaMRI.jl/previews/PR725/assets/fill-pull-request.DZSrqvOE.png",w=JSON.parse('{"title":"Contribute to Koma","description":"","frontmatter":{},"headers":[],"relativePath":"how-to/5-contribute-to-koma.md","filePath":"how-to/5-contribute-to-koma.md","lastUpdated":null}'),b={name:"how-to/5-contribute-to-koma.md"};function C(E,e,F,f,I,R){return t(),a("div",null,[...e[0]||(e[0]=[i('<h1 id="Contribute-to-Koma" tabindex="-1">Contribute to Koma <a class="header-anchor" href="#Contribute-to-Koma" aria-label="Permalink to &quot;Contribute to Koma {#Contribute-to-Koma}&quot;">‚Äã</a></h1><p>If you&#39;re interested in contributing to Koma, this document will guide you through the setup process. Before you begin, make sure to install and configure a few essential tools on your machine to ensure a smooth development experience:</p><ul><li><p>Git</p></li><li><p>GitHub</p></li><li><p>VSCode</p></li><li><p>VSCode Plugins:</p><ul><li><p>Julia</p></li><li><p>GitHub Pull Requests</p></li></ul></li></ul><h2 id="Installing-KomaMRI-as-a-developer" tabindex="-1">Installing KomaMRI as a developer <a class="header-anchor" href="#Installing-KomaMRI-as-a-developer" aria-label="Permalink to &quot;Installing KomaMRI as a developer {#Installing-KomaMRI-as-a-developer}&quot;">‚Äã</a></h2><h3 id="1.-Clone-KomaMRI-repository" tabindex="-1">1. Clone KomaMRI repository <a class="header-anchor" href="#1.-Clone-KomaMRI-repository" aria-label="Permalink to &quot;1. Clone KomaMRI repository {#1.-Clone-KomaMRI-repository}&quot;">‚Äã</a></h3><p>To install the dev version of Koma, we will use the Julia REPL:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" class="repl-prompt repl-prompt-pkg">pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" class="repl-prompt repl-prompt-pkg">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dev KomaMRI</span></span></code></pre></div><p>This command will clone KomaMRI.jl&#39;s repository (<code>dev</code> version) to your <code>~/.julia/dev/KomaMRI/</code> directory if you are in a macOS or Linux operating system, or <code>C:\\Users\\&lt;user-name&gt;\\.julia\\dev\\KomaMRI\\</code> if you are using Windows, where <code>&lt;user-name&gt;</code> should be replaced with your Windows user.</p><h3 id="2.-Create-Your-Fork-Of-KomaMRI" tabindex="-1">2. Create Your Fork Of KomaMRI <a class="header-anchor" href="#2.-Create-Your-Fork-Of-KomaMRI" aria-label="Permalink to &quot;2. Create Your Fork Of KomaMRI {#2.-Create-Your-Fork-Of-KomaMRI}&quot;">‚Äã</a></h3><p>If you try to commit or generate a pull request at this point, you will get an <code>Access denied</code> error. This is because you need to create a fork before you can contribute to this repository directly (unless you are included as a collaborator!).</p><p>To create this fork, go to the official <a href="https://github.com/JuliaHealth/KomaMRI.jl" target="_blank" rel="noreferrer">KomaMRI repository</a> and follow the steps below:</p><p><img src="'+o+'" alt=""></p><p><img src="'+n+`" alt=""></p><h3 id="3.-Access-Your-GitHub-Account-In-VSCode" tabindex="-1">3. Access Your GitHub Account In VSCode <a class="header-anchor" href="#3.-Access-Your-GitHub-Account-In-VSCode" aria-label="Permalink to &quot;3. Access Your GitHub Account In VSCode {#3.-Access-Your-GitHub-Account-In-VSCode}&quot;">‚Äã</a></h3><p>Now, you need to ensure that your GitHub account is connected to VSCode. This allows you to clone repositories, create branches, and manage pull requests directly within VSCode.</p><ul><li><p>Open VSCode.</p></li><li><p>Go to the <strong>Source Control</strong> tab.</p></li><li><p>Sign in to your GitHub account if you&#39;re not already signed in.</p></li></ul><blockquote><p>üí°You can also check if your <code>git</code> credentials are correctly added to your machine by writing in the VSCode terminal:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span></span></code></pre></div></blockquote><h3 id="4.-Open-Your-Forked-Repository-In-VSCode" tabindex="-1">4. Open Your Forked Repository In VSCode <a class="header-anchor" href="#4.-Open-Your-Forked-Repository-In-VSCode" aria-label="Permalink to &quot;4. Open Your Forked Repository In VSCode {#4.-Open-Your-Forked-Repository-In-VSCode}&quot;">‚Äã</a></h3><p>In VSCode, click on <strong>File</strong> -&gt; <strong>Open Folder...</strong> and select your <code>~/.julia/dev/KomaMRI/</code> directory (<code>C:\\Users\\&lt;user-name&gt;\\.julia\\dev\\KomaMRI\\</code> if you are using Windows).</p><p>Now add the fork URL by clicking <strong>Source Control</strong> -&gt; <strong>...</strong> -&gt; <strong>Remote</strong> -&gt; <strong>Add Remote...</strong><img width="80%" src="`+l+'"></p><p>This will create the option to provide a repository URL. Here is where you will paste your fork URL and give it the name <code>my-fork</code>.</p><p><img src="'+r+'" alt=""></p><p><img src="'+p+`" alt=""></p><blockquote><p>üí°Press <code>Yes</code> when prompted to constantly fetch in the future.</p></blockquote><p>The Julia extension should automatically detect the <code>KomaMRI</code> environment. To check this, look at the status bar (bottom) and you should see <code>Julia env: KomaMRI</code>. If this is not the case, click the option in the menu bar and select KomaMRI.jl.</p><h3 id="5.-KomaMRI-Monorepo-Setup" tabindex="-1">5. KomaMRI Monorepo Setup <a class="header-anchor" href="#5.-KomaMRI-Monorepo-Setup" aria-label="Permalink to &quot;5. KomaMRI Monorepo Setup {#5.-KomaMRI-Monorepo-Setup}&quot;">‚Äã</a></h3><p>As KomaMRI.jl contains multiple packages in one GitHub repository, you need to specify that you want to use your local copies (instead of the ones available on the Julia registries) and using the <code>instantiate</code> command to install all the required packages (specified in <code>Project.toml</code>) with the following script:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Koma sub-packages dev setup  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">koma_subpkgs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;KomaMRICore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;KomaMRIFiles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;KomaMRIPlots&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pkg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> koma_subpkgs  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pkg)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">develop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./KomaMRIBase&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Main package (KomaMRI) dev setup  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pkg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> koma_subpkgs  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">develop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">instantiate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>In case you want to contribute specifically to documentation, you will need to use the <code>docs</code> environment with the following script:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;docs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">develop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">instantiate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>This will also include all the specific package versions into the <code>Manifest.toml</code>. The <code>Manifest.toml</code> should not be updated to the repo when making a commit or pull request. Thus, it is present in the <code>.gitignore</code>.</p><h3 id="6.-Create-A-New-Branch-For-Your-Feature" tabindex="-1">6. Create A New Branch For Your Feature <a class="header-anchor" href="#6.-Create-A-New-Branch-For-Your-Feature" aria-label="Permalink to &quot;6. Create A New Branch For Your Feature {#6.-Create-A-New-Branch-For-Your-Feature}&quot;">‚Äã</a></h3><p>If you correctly followed the previous steps you will have created your fork connected to the original Koma repository. Now, if you want to create your own changes, you will need to create a new branch from your fork.</p><p>To create this new branch, go to <strong>Source Control</strong> -&gt; <strong>...</strong> -&gt; <strong>Branch</strong> -&gt; <strong>Create Branch form...</strong><img width="80%" src="`+h+'"></p><p>This will open a menu to select a starting point for your branch. Select <code>my-fork/master</code> as your starting point, and give it the name <code>my-new-feature</code>.</p><p><img src="'+d+'" alt=""></p><p><img src="'+c+'" alt=""></p><blockquote><p>üí°In your VSCode terminal use <code>git status</code> to check if your branch is correctly created. Your branch should be listed at the top of the output.</p></blockquote><h2 id="How-To-Commit" tabindex="-1">How To Commit <a class="header-anchor" href="#How-To-Commit" aria-label="Permalink to &quot;How To Commit {#How-To-Commit}&quot;">‚Äã</a></h2><p>If you have already created your first modifications in your local version of the repository, you will want to commit your changes in your public branch.</p><p>To do this, in VSCode go to the Source Control panel in the Activity Bar.</p><p>Assuming you are currently in your <code>my-new-feature</code> branch, the Source Control panel should show your changes to the project and the option to create a commit message. <img width="40%" src="'+u+'"></p><p>If you hover over the <code>Changes</code> tab, it should show a <code>+</code> icon. Press it to stage all changes in the project.</p><p>Write down a message that describes the changes you are staging to the project, and press the Commit button.</p><p>Press <strong>Sync Changes</strong> to push your commit into your branch (this step is equivalent to <code>git push ...</code>).</p><blockquote><p>üí° If you want to make sure the commit was correctly done, check your GitHub repository and see if the changes you committed are present.</p></blockquote><h2 id="How-to-Test-Your-Contributions" tabindex="-1">How to Test Your Contributions <a class="header-anchor" href="#How-to-Test-Your-Contributions" aria-label="Permalink to &quot;How to Test Your Contributions {#How-to-Test-Your-Contributions}&quot;">‚Äã</a></h2><p>Depending on the package where you made your changes, <code>KomaMRIBase</code>, <code>KomaMRICore</code>, <code>KomaMRIFiles</code>, <code>KomaMRIPlots</code> or <code>KomaMRI</code>, follow the instructions below to test them correctly:</p><h3 id="Test-KomaMRI:" tabindex="-1">Test <code>KomaMRI</code>: <a class="header-anchor" href="#Test-KomaMRI:" aria-label="Permalink to &quot;Test `KomaMRI`: {#Test-KomaMRI:}&quot;">‚Äã</a></h3><p>In the Julia REPL run the following script:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pkg&gt; test</span></span></code></pre></div><p>This should open the UI and all buttons will be clicked to test their functionality.</p><h3 id="Test-KomaMRIBase,-KomaMRIFiles-or-KomaMRIPlots:" tabindex="-1">Test <code>KomaMRIBase</code>, <code>KomaMRIFiles</code> or <code>KomaMRIPlots</code>: <a class="header-anchor" href="#Test-KomaMRIBase,-KomaMRIFiles-or-KomaMRIPlots:" aria-label="Permalink to &quot;Test `KomaMRIBase`, `KomaMRIFiles` or `KomaMRIPlots`: {#Test-KomaMRIBase,-KomaMRIFiles-or-KomaMRIPlots:}&quot;">‚Äã</a></h3><p>For all of these packages tests look the same. There are two options to run the tests:</p><p><strong>Test With VSCode</strong>:</p><p>On the activity bar, open the <code>Testing</code> extension, expand the available tests, and select the &quot;‚ñ∂&quot; icon next to the respective package to run the test. The results will be displayed in the <code>Test Results</code> panel. <img width="40%" src="'+k+'"></p><p><strong>Test With Julia REPL</strong>:</p><p>Run the following script after replacing <code>[package]</code> with the selected <code>KomaMRIBase</code>, <code>KomaMRIPlots</code> or <code>KomaMRIFiles</code> package:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pkg&gt; test [package]</span></span></code></pre></div><h3 id="Test-KomaMRICore:" tabindex="-1">Test <code>KomaMRICore</code>: <a class="header-anchor" href="#Test-KomaMRICore:" aria-label="Permalink to &quot;Test `KomaMRICore`: {#Test-KomaMRICore:}&quot;">‚Äã</a></h3><p>In this package, you may want to run tests using the CPU or GPU. By default the tests will run on the CPU, with the number of threads set to <code>Threads.nthreads()</code>. You can run KomaMRICore tests using the Julia REPL or VSCode, but some changes are required to choose the backend to be tested.</p><p><strong>Test With VSCode:</strong></p><p>To run KomaMRICore&#39;s tests, on the activity bar, open the <code>Testing</code> extension, expand the available tests, and select the &quot;‚ñ∂&quot; icon next to the word <code>KomaMRICore</code> to run the test. The results will be displayed in the <code>Test Results</code> panel. <img width="40%" src="'+g+`"></p><p>To change the default backend used for testing, modify the <code>[preferences.KomaMRICore]</code> section in KomaMRICore/test/project.toml file:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[preferences</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KomaMRICore]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_backend </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;CPU&quot;</span></span></code></pre></div><p>The variable <code>test_backend</code> can be changed to ‚ÄúCPU‚Äù, ‚ÄúCUDA‚Äù, ‚ÄúAMDGPU‚Äù, ‚ÄúMetal‚Äù, or ‚ÄúoneAPI‚Äù. After this change, <strong>restart VSCode</strong>. Make sure that the required backend is installed in Julia‚Äôs global environment before testing. This is, for example, <code>@v1.10</code> for Julia 1.10.</p><p><strong>Test With Julia REPL:</strong></p><p>By default, tests are run on the CPU with the number of threads set to <code>Threads.nthreads()</code>. To choose a specific backend, two methods exist:</p><p><strong>Method 1 - Using Preferences:</strong> Add the name of the backend (&quot;CPU&quot;,&quot;CUDA&quot;,&quot;AMDGPU&quot;,&quot;Metal&quot;, or &quot;oneAPI&quot;) to the <code>test/Project.toml</code> file in <code>KomaMRICore</code>. Then, test as usual:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pkg&gt; test KomaMRICore</span></span></code></pre></div><p><strong>Method 2 - Using Test Arguments:</strong> This method is used in Buildkite&#39;s CI, and it is best visualised by the use of examples.</p><p>Examples:</p><ul><li>To run on the GPU using CUDA:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import Pkg</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Pkg.test(&quot;KomaMRICore&quot;; test_args=\`CUDA\`)</span></span></code></pre></div><ul><li>To run on the CPU with a specific number of threads, pass the number of threads as a Julia argument:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import Pkg</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Pkg.test(&quot;KomaMRICore&quot;; julia_args=\`--threads=4\`)</span></span></code></pre></div><h2 id="Adding-A-New-Test" tabindex="-1">Adding A New Test <a class="header-anchor" href="#Adding-A-New-Test" aria-label="Permalink to &quot;Adding A New Test {#Adding-A-New-Test}&quot;">‚Äã</a></h2><p>In case your contribution generates a method that is not currently tested, <strong>the code coverage will decrease</strong> when the pull request is analyzed, creating an automatic comment if the code coverage goes below a threshold.</p><p>To test your function, add a test into the <code>runtests.jl</code> file corresponding to the package where you made your contribution.</p><p>Test example:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@testitem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;my math&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:base</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # @testitem: Runnable from VSCode (tag them!)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    @testset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;plus operation&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> begin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # @testset: Adds a name to section</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        @test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # @test boolean: Test. You can include multiple tests per section</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        @test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    @testset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;minus operation&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> begin</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        @test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Once the file is selected, check whether the contribution to the test fulfills the conditions for an existing <code>@testitem</code>. If not, create a new <code>@testitem</code>.</p><p>Please add <code>tags</code> in your <code>@testitem</code>&#39;s for them to work properly. The possible tags are:</p><ul><li><p>KomaMRIBase: <code>:base</code></p></li><li><p>KomaMRICore: You must include <code>:core</code> and <strong>one</strong> of the following:</p><ul><li><p>Test uses motion: <code>:motion</code></p></li><li><p>Test does not use motion: <code>:nomotion</code></p></li></ul></li><li><p>KomaMRIPlots: <code>:plots</code></p></li><li><p>KomaMRIFiles: <code>:files</code></p></li><li><p>KomaMRI: <code>:koma</code></p></li></ul><h2 id="How-To-Create-A-Pull-Request" tabindex="-1">How To Create A Pull Request <a class="header-anchor" href="#How-To-Create-A-Pull-Request" aria-label="Permalink to &quot;How To Create A Pull Request {#How-To-Create-A-Pull-Request}&quot;">‚Äã</a></h2><p>If you want to send your committed new version of the repository, you can create a pull request that will be reviewed by a Koma certified developer.</p><p>To create this pull request, in VSCode, go to the <code>GitHub Pull Request</code> panel in the Activity Bar and hover over the <code>Pull request</code> tab. This should show a Create pull request icon to press. <img width="50%" src="`+m+'"></p><p>In the <code>Create</code> tab that appears, select <code>JuliaHealth/master</code> as the base and the branch you are working with to merge.</p><p>To finish your pull request, give it a name with a clear mention of the subject of the contribution you made, and a description that explains the issue or feature you are addressing in your branch, and press the Create button. <img width="50%" src="'+y+'"></p><blockquote><p>üí° <strong>Tips For A Successful Pull Request:</strong></p><ul><li><p>Try to address one issue or feature per pull request to make it easier for reviewers.</p></li><li><p>Provide all the context necessary, including all the information of the related issue or added feature.</p></li><li><p>Respond to feedback and suggestions to make adjustments based on the reviewers&#39; comments.</p></li></ul></blockquote><h3 id="Advanced-GPU-CI-Testing" tabindex="-1">(Advanced) GPU CI Testing <a class="header-anchor" href="#Advanced-GPU-CI-Testing" aria-label="Permalink to &quot;(Advanced) GPU CI Testing {#Advanced-GPU-CI-Testing}&quot;">‚Äã</a></h3><p>KomaMRI runs continuous integration tests on multiple GPU backends (CUDA, AMDGPU, Metal, oneAPI) via Buildkite. To control resource usage and costs, <strong>GPU tests are not run by default</strong> on pull requests.</p><p>If your contribution affects GPU code, such as files in <code>KomaMRICore/ext/</code> or simulation kernels, please request <code>@cncastillo</code> to add the <code>run-gpu-ci</code> label to your PR.</p>',93)])])}const M=s(b,[["render",C]]);export{w as __pageData,M as default};
